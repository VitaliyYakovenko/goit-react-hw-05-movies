{"version":3,"file":"static/js/881.31e4b7cb.chunk.js","mappings":"uQAAA,IAAMA,EAAG,mCACHC,EAAQ,6BAEd,SAASC,IACL,OAAQC,MAAM,GAAD,OAAIF,EAAJ,uCAA2CD,IACvDI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,GACjB,CAGD,SAASC,EAAkBC,GACvB,OAAOL,MAAM,GAAD,OAAIF,EAAJ,mCAAuCD,EAAvC,iCAAmEQ,EAAnE,gCACXJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,GACjB,CAGD,SAASG,EAAiBC,GACtB,OAAOP,MAAM,GAAD,OAAIF,EAAJ,oBAAwBS,EAAxB,oBAAsCV,EAAtC,iBACXI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,GACjB,CAED,SAASK,EAAcD,GACnB,OAAOP,MAAM,GAAD,OAAIF,EAAJ,oBAAwBS,EAAxB,4BAA8CV,EAA9C,oBACXI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,GACjB,CAED,SAASM,EAAgBF,GACrB,OAAOP,MAAM,GAAD,OAAIF,EAAJ,oBAAwBS,EAAxB,4BAA8CV,EAA9C,2BACXI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,GACjB,C,mHC3BD,EAA4B,0BAA5B,EAA8D,sBAA9D,EAAgG,0BAAhG,EAAyI,6BAAzI,EAA+K,uBAA/K,EAAqN,6B,SCKtM,SAASO,IAAU,IAAD,EAC7B,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAS,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GACzCC,GAAWC,EAAAA,EAAAA,MACjB,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA4BF,EAAAA,EAAAA,UAAS,QAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAmCJ,EAAAA,EAAAA,UAAS,IAA5C,eAAOK,EAAP,KAAmBC,EAAnB,KAIMC,EAAoB,SAACC,GACvB,IAAQC,EAAUD,EAAEE,OAAZD,MACRH,EAAaG,EAChB,EAEKE,EAAe,SAACH,GAClB,GAAmB,KAAfH,EACF,OAAOV,EAAgB,CAAC,GAE1BA,EAAgB,CAACR,MAAOkB,GAC3B,EAqBD,OAjBAO,EAAAA,EAAAA,YAAU,WACDhB,GAGDA,IACJV,EAAAA,EAAAA,IAAkBU,GACjBb,MAAK,SAAA8B,GACNX,EAAUW,EAAIC,SACdV,EAAU,WACT,IACAW,SAAQ,WACTT,EAAa,GACZ,GAEJ,GAAC,CAACV,IAGY,SAAXO,GAEO,iBAAKa,UAAWC,EAAhB,WACA,kBAAOD,UAAWC,EAAWC,SAAUX,EAAmBY,KAAK,OAAOV,MAAOJ,KAC3E,mBAAQW,UAAWC,EAAeG,QAAST,EAA3C,qBACE,cAAGK,UAAWC,EAAd,kCAQf,iBAAKD,UAAWC,EAAhB,WACE,kBAAOD,UAAWC,EAAWC,SAAUX,EAAmBY,KAAK,OAAOV,MAAOJ,KAC7E,mBAAQW,UAAWC,EAAgBG,QAAST,EAA5C,qBACM,yBACkB,IAAlBV,EAAOoB,QACL,cAAGL,UAAWC,EAAd,4BACA,eAAID,UAAWC,EAAf,SAA4BhB,EAAOqB,KAAI,SAAAC,GAAK,OAC1C,eAAIP,UAAWC,EAAf,UACA,SAAC,KAAD,CAAMO,GAAE,UAAKD,EAAMlC,IAAMoC,MAAO,CAACC,KAAM5B,GAAvC,SAAoDyB,EAAMI,OAASJ,EAAMK,QADnCL,EAAMlC,GADF,UAUrD,C","sources":["API/themoviedbAPI.js","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["const KEY = `5c9fbebd8a4183e94064202846ae6076`;\nconst BASE_URL = `https://api.themoviedb.org`;\n\nfunction trendingMovies() {\n    return  fetch(`${BASE_URL}/3/trending/all/day?api_key=${KEY}`)\n    .then(response => response.json())\n}\n\n\nfunction searchMovieByName(query) {\n    return fetch(`${BASE_URL}/3/search/movie?api_key=${KEY}&language=en-US&query=${query}&page=1&include_adult=false`)\n    .then(response => response.json())\n} \n\n\nfunction getSpecificMovie(id) {\n    return fetch(`${BASE_URL}/3/movie/${id}?api_key=${KEY}&language=en`)\n    .then(response => response.json())\n}\n\nfunction getCastsMovie(id) {\n    return fetch(`${BASE_URL}/3/movie/${id}/credits?api_key=${KEY}&language=en-US`)\n    .then(response => response.json())\n}\n\nfunction getMovieReviews(id) {\n    return fetch(`${BASE_URL}/3/movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`)\n    .then(response => response.json())\n}\n\n\nexport { trendingMovies ,searchMovieByName,getSpecificMovie, getCastsMovie ,getMovieReviews};\n\n\n\n\n\n\n\n// 5c9fbebd8a4183e94064202846ae6076\n\n// Пример API-запроса\n//https://api.themoviedb.org/3/movie/550?api_key=5c9fbebd8a4183e94064202846ae6076\n\n\n// Токен доступа для чтения API (v4 auth)\n// eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1YzlmYmViZDhhNDE4M2U5NDA2NDIwMjg0NmFlNjA3NiIsInN1YiI6IjY0MjJlMWVlMmRjOWRjMDBiZjVhMjA2ZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.E1o9bGh1triGAbBMzaD59hJnAjgKcCWj95Zj3-HYBUE\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__+-Cnt\",\"input\":\"Movies_input__KrUqs\",\"searchBtn\":\"Movies_searchBtn__jYYq7\",\"searchInfrom\":\"Movies_searchInfrom__rxbK4\",\"movies\":\"Movies_movies__TE99a\",\"movies__item\":\"Movies_movies__item__blLkN\"};","import { useEffect, useState} from \"react\"\nimport { Link, useSearchParams, useLocation  } from \"react-router-dom\";\nimport { searchMovieByName } from \"API/themoviedbAPI\"\nimport css from \"./Movies.module.css\";\n\n\nexport default function Movies() {\n    const [searchParams, setSearchParams] = useSearchParams();    \n    const queryName = searchParams.get(\"query\") ?? \"\";\n    const location = useLocation();\n    const [movies, setMovies] = useState([]);\n    const [status, setStatus] = useState(\"idle\");\n    const [moviesName, setMovieName] = useState(\"\");\n\n  \n     \n    const onChangeMovieName = (e) => {\n        const { value } = e.target;\n        setMovieName(value);\n    }\n    \n    const onSearhMovie = (e) => {\n        if (moviesName === \"\") {\n          return setSearchParams({})\n        }\n        setSearchParams({query: moviesName})\n    }\n    \n\n\n    useEffect(() => {\n        if (!queryName) {\n            return;\n        }\n        if (queryName) {\n        searchMovieByName(queryName)\n        .then(res => {\n        setMovies(res.results);\n        setStatus(\"resolved\")\n        })\n        .finally(() => {\n        setMovieName(\"\");\n        });    \n        }\n    },[queryName]) \n  \n    \n    if (status === \"idle\") {\n    return (\n               <div className={css.container}>\n               <input className={css.input} onChange={onChangeMovieName} type=\"text\" value={moviesName}></input>\n                 <button className={css.searchBtn} onClick={onSearhMovie}>Search</button>\n                   <p className={css.searchInfrom}>Enter movie name</p>\n              </div>     \n           );      \n     }\n   \n\n  \n    return (\n    <div className={css.container}>\n      <input className={css.input} onChange={onChangeMovieName} type=\"text\" value={moviesName}></input>\n      <button className={css.searchBtn}  onClick={onSearhMovie}>Search</button>\n            <div>\n           {movies.length === 0\n            ? <p className={css.searchInfrom}>Nothing found</p>\n            : <ul className={css.movies}>{movies.map(movie => (\n                <li className={css.movies__item} key={movie.id}>\n                <Link to={`${movie.id}`} state={{from: location}} >{movie.title || movie.name}</Link>\n                </li>\n              ))}\n             </ul>\n            }\n            </div>   \n    </div>\n        )\n    }\n"],"names":["KEY","BASE_URL","trendingMovies","fetch","then","response","json","searchMovieByName","query","getSpecificMovie","id","getCastsMovie","getMovieReviews","Movies","useSearchParams","searchParams","setSearchParams","queryName","get","location","useLocation","useState","movies","setMovies","status","setStatus","moviesName","setMovieName","onChangeMovieName","e","value","target","onSearhMovie","useEffect","res","results","finally","className","css","onChange","type","onClick","length","map","movie","to","state","from","title","name"],"sourceRoot":""}